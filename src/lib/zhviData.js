/**
 * Zillow Home Value Index (ZHVI) data for market comparison
 * Source: Zillow Research Data
 * 
 * Data structure: Each market contains monthly data points
 * Format: 'YYYY-MM': value (in dollars)
 */

export const zhviData = {
  'DFW, TX': {
    // Data from Zillow Research for Dallas Fort Worth, TX ZHVI
    
    '2012-01': 139942,
    '2012-02': 140704,
    '2012-03': 142174,
    '2012-04': 143870,
    '2012-05': 145574,
    '2012-06': 147276,
    '2012-07': 148449,
    '2012-08': 149018,
    '2012-09': 149503,
    '2012-10': 149669,
    '2012-11': 149307,
    '2012-12': 149113,
    '2013-01': 149029,
    '2013-02': 149616,
    '2013-03': 151123,
    '2013-04': 153243,
    '2013-05': 155717,
    '2013-06': 158178,
    '2013-07': 159645,
    '2013-08': 160735,
    '2013-09': 161361,
    '2013-10': 161881,
    '2013-11': 161767,
    '2013-12': 162098,
    '2014-01': 162021,
    '2014-02': 162637,
    '2014-03': 164425,
    '2014-04': 166495,
    '2014-05': 168879,
    '2014-06': 171106,
    '2014-07': 173113,
    '2014-08': 174017,
    '2014-09': 174506,
    '2014-10': 174481,
    '2014-11': 174965,
    '2014-12': 175386,
    '2015-01': 175317,
    '2015-02': 176670,
    '2015-03': 178787,
    '2015-04': 181404,
    '2015-05': 184822,
    '2015-06': 187628,
    '2015-07': 190287,
    '2015-08': 192434,
    '2015-09': 193762,
    '2015-10': 194621,
    '2015-11': 195363,
    '2015-12': 196309,
    '2016-01': 196792,
    '2016-02': 198546,
    '2016-03': 200549,
    '2016-04': 204431,
    '2016-05': 207896,
    '2016-06': 210546,
    '2016-07': 212798,
    '2016-08': 214343,
    '2016-09': 215477,
    '2016-10': 216180,
    '2016-11': 217135,
    '2016-12': 217661,
    '2017-01': 217944,
    '2017-02': 219678,
    '2017-03': 222758,
    '2017-04': 227040,
    '2017-05': 230374,
    '2017-06': 233105,
    '2017-07': 234932,
    '2017-08': 236199,
    '2017-09': 237016,
    '2017-10': 237393,
    '2017-11': 237754,
    '2017-12': 238534,
    '2018-01': 238490,
    '2018-02': 239776,
    '2018-03': 243059,
    '2018-04': 246271,
    '2018-05': 249482,
    '2018-06': 251433,
    '2018-07': 253458,
    '2018-08': 253723,
    '2018-09': 253177,
    '2018-10': 252116,
    '2018-11': 251087,
    '2018-12': 250908,
    '2019-01': 250221,
    '2019-02': 250840,
    '2019-03': 252807,
    '2019-04': 254672,
    '2019-05': 256742,
    '2019-06': 258466,
    '2019-07': 259349,
    '2019-08': 259686,
    '2019-09': 259559,
    '2019-10': 259117,
    '2019-11': 258835,
    '2019-12': 258867,
    '2020-01': 259048,
    '2020-02': 260307,
    '2020-03': 262678,
    '2020-04': 264350,
    '2020-05': 265213,
    '2020-06': 267135,
    '2020-07': 269517,
    '2020-08': 271620,
    '2020-09': 274653,
    '2020-10': 276762,
    '2020-11': 279117,
    '2020-12': 281644,
    '2021-01': 283889,
    '2021-02': 288170,
    '2021-03': 294726,
    '2021-04': 302289,
    '2021-05': 311219,
    '2021-06': 318793,
    '2021-07': 323204,
    '2021-08': 325729,
    '2021-09': 327816,
    '2021-10': 330525,
    '2021-11': 334490,
    '2021-12': 338249,
    '2022-01': 346888,
    '2022-02': 356819,
    '2022-03': 367273,
    '2022-04': 379932,
    '2022-05': 389487,
    '2022-06': 395843,
    '2022-07': 395820,
    '2022-08': 391011,
    '2022-09': 386558,
    '2022-10': 382914,
    '2022-11': 378173,
    '2022-12': 373863,
    '2023-01': 369353,
    '2023-02': 368294,
    '2023-03': 370581,
    '2023-04': 374235,
    '2023-05': 378176,
    '2023-06': 381542,
    '2023-07': 382545,
    '2023-08': 381808,
    '2023-09': 379610,
    '2023-10': 376959,
    '2023-11': 374660,
    '2023-12': 371960,
    '2024-01': 371161,
    '2024-02': 373137,
    '2024-03': 377087,
    '2024-04': 380818

      // Add more years as needed
      // '2024-01': 135000,
      // '2024-02': 135500,
      // etc.
    },
    
    'Memphis, TN': {
      // Example data structure - replace with actual ZHVI values
      
      '2012-01': 107586,
      '2012-02': 107852,
      '2012-03': 108737,
      '2012-04': 109593,
      '2012-05': 110731,
      '2012-06': 111612,
      '2012-07': 112681,
      '2012-08': 112453,
      '2012-09': 112713,
      '2012-10': 112000,
      '2012-11': 110347,
      '2012-12': 109200,
      '2013-01': 108400,
      '2013-02': 108110,
      '2013-03': 109330,
      '2013-04': 110580,
      '2013-05': 111540,
      '2013-06': 112586,
      '2013-07': 112904,
      '2013-08': 113730,
      '2013-09': 114322,
      '2013-10': 114820,
      '2013-11': 114379,
      '2013-12': 114781,
      '2014-01': 115089,
      '2014-02': 115320,
      '2014-03': 116035,
      '2014-04': 117588,
      '2014-05': 119259,
      '2014-06': 120322,
      '2014-07': 121345,
      '2014-08': 121436,
      '2014-09': 121296,
      '2014-10': 120836,
      '2014-11': 120751,
      '2014-12': 120572,
      '2015-01': 119972,
      '2015-02': 119891,
      '2015-03': 120577,
      '2015-04': 121639,
      '2015-05': 123471,
      '2015-06': 124521,
      '2015-07': 125617,
      '2015-08': 126300,
      '2015-09': 126715,
      '2015-10': 126745,
      '2015-11': 126404,
      '2015-12': 126099,
      '2016-01': 126177,
      '2016-02': 126153,
      '2016-03': 126121,
      '2016-04': 127127,
      '2016-05': 128010,
      '2016-06': 129176,
      '2016-07': 130173,
      '2016-08': 131334,
      '2016-09': 131908,
      '2016-10': 132253,
      '2016-11': 132419,
      '2016-12': 132699,
      '2017-01': 132396,
      '2017-02': 132618,
      '2017-03': 133402,
      '2017-04': 135016,
      '2017-05': 136563,
      '2017-06': 137861,
      '2017-07': 139360,
      '2017-08': 140693,
      '2017-09': 141629,
      '2017-10': 142124,
      '2017-11': 142444,
      '2017-12': 142542,
      '2018-01': 142353,
      '2018-02': 142451,
      '2018-03': 143888,
      '2018-04': 145667,
      '2018-05': 147622,
      '2018-06': 148841,
      '2018-07': 150520,
      '2018-08': 151733,
      '2018-09': 152415,
      '2018-10': 152797,
      '2018-11': 153346,
      '2018-12': 153714,
      '2019-01': 153408,
      '2019-02': 154033,
      '2019-03': 155239,
      '2019-04': 156765,
      '2019-05': 158577,
      '2019-06': 160556,
      '2019-07': 161995,
      '2019-08': 162966,
      '2019-09': 163644,
      '2019-10': 164232,
      '2019-11': 164909,
      '2019-12': 165386,
      '2020-01': 165560,
      '2020-02': 166272,
      '2020-03': 168055,
      '2020-04': 170270,
      '2020-05': 171979,
      '2020-06': 173984,
      '2020-07': 176388,
      '2020-08': 178645,
      '2020-09': 181693,
      '2020-10': 183885,
      '2020-11': 185842,
      '2020-12': 186633,
      '2021-01': 188001,
      '2021-02': 189818,
      '2021-03': 193129,
      '2021-04': 197045,
      '2021-05': 201901,
      '2021-06': 206791,
      '2021-07': 209374,
      '2021-08': 210481,
      '2021-09': 211793,
      '2021-10': 214230,
      '2021-11': 217164,
      '2021-12': 218727,
      '2022-01': 221745,
      '2022-02': 225281,
      '2022-03': 229155,
      '2022-04': 234814,
      '2022-05': 239329,
      '2022-06': 243092,
      '2022-07': 244563,
      '2022-08': 244079,
      '2022-09': 243320,
      '2022-10': 242641,
      '2022-11': 241037,
      '2022-12': 237980,
      '2023-01': 234876,
      '2023-02': 233620,
      '2023-03': 234954,
      '2023-04': 237023,
      '2023-05': 239433,
      '2023-06': 241369,
      '2023-07': 242084,
      '2023-08': 242736,
      '2023-09': 241771,
      '2023-10': 240098,
      '2023-11': 238769,
      '2023-12': 237460,
      '2024-01': 236147,
      '2024-02': 236977,
      '2024-03': 239371,
      '2024-04': 241995
    
    // Add more years as needed
    // '2024-01': 285000,
    // '2024-02': 286000,
    // etc.
  }
  
  // To add more markets in the future, just add new objects:
  // 'Atlanta, GA': {
  //   '2012-01': 95000,
  //   '2012-02': 95200,
  //   // ... etc.
  // },
  // 
  // 'Phoenix, AZ': {
  //   '2012-01': 125000,
  //   '2012-02': 125300,
  //   // ... etc.
  // }
};

/**
 * Helper function to get annual average from monthly data
 * @param {string} market - Market name (e.g., 'Memphis, TN')
 * @param {number} year - Year to calculate average for
 * @returns {number|null} Annual average ZHVI value
 */
export function getAnnualZHVI(market, year) {
  const marketData = zhviData[market];
  if (!marketData) return null;
  
  const monthlyValues = [];
  for (let month = 1; month <= 12; month++) {
    const monthKey = `${year}-${month.toString().padStart(2, '0')}`;
    if (marketData[monthKey]) {
      monthlyValues.push(marketData[monthKey]);
    }
  }
  
  if (monthlyValues.length === 0) return null;
  return monthlyValues.reduce((sum, val) => sum + val, 0) / monthlyValues.length;
}

/**
 * Helper function to get the closest monthly value to a specific date
 * @param {string} market - Market name
 * @param {number} year - Year
 * @param {number} month - Month (1-12), optional, defaults to December
 * @returns {number|null} ZHVI value for that month/year
 */
export function getMonthlyZHVI(market, year, month = 12) {
  const marketData = zhviData[market];
  if (!marketData) return null;
  
  const monthKey = `${year}-${month.toString().padStart(2, '0')}`;
  return marketData[monthKey] || null;
}

/**
 * Get all available markets
 * @returns {string[]} Array of market names
 */
export function getAvailableMarkets() {
  return Object.keys(zhviData);
}